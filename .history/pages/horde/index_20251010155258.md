---
pageClass: full-width-page
---
<script setup>
import dataProduct from '@/data/json/塔.json';
import { dataMap } from '../../.vitepress/theme/data-index.js';
import HordeFAQ from '@/text/horde-faq.md';


// 定义所有表格的信息，用于循环创建内容和导航
const tables = [
  // {
  //   id: 'tower-table',         // 用作锚点的唯一ID
  //   title: '塔',    // 表格的标题
  //   data: dataProduct,           // 绑定的数据
  // },
  {
    id: 'modules-horde-upgradePrestige-table',
    title: '声望升级',
    data: dataMap['modules/horde/upgradePrestige']
  },
  // {
  //   id: 'modules-horde-upgradePremium-table',
  //   title: '高级升级',
  //   data: dataMap['modules/horde/upgradePremium']
  // },
  {
    id: 'modules-horde-upgrade2-table',
    title: '升级-战斗通行证',
    data: dataMap['modules/horde/upgrade2']
  },
  // {
  //   id: 'modules-horde-trinket-table',
  //   title: '饰品',
  //   data: dataMap['modules/horde/trinket']
  // },
  // {
  //   id: 'modules-horde-tower-table',
  //   title: '塔',
  //   data: dataMap['modules/horde/tower']
  // },
  // {
  //   id: 'modules-horde-relic-table',
  //   title: '圣遗物',
  //   data: dataMap['modules/horde/relic']
  // },
  // {
  //   id: 'modules-horde-heirloom-table',
  //   title: '传家宝',
  //   data: dataMap['modules/horde/heirloom']
  // },
  // {
  //   id: 'modules-horde-card-table',
  //   title: '卡牌',
  //   data: dataMap['modules/horde/card']
  // },
  // {
  //   id: 'modules-horde-battlePass-table',
  //   title: '战斗通行证',
  //   data: dataMap['modules/horde/battlePass']
  // },
  // {
  //   id: 'modules-horde-achievement-table',
  //   title: '成就',
  //   data: dataMap['modules/horde/achievement']
  // },

];

// 2. 创建一个 ref 来存储当前活动（展开）的表格 ID
const activeTableId = ref('');
// 可选：设置默认打开的表格
// const activeTableId = ref('modules-horde-upgradePrestige-table');

// 3. 创建一个处理 toggle 事件的函数
const handleToggle = (tableId) => {
  // 如果点击的已经是打开的表格，则关闭它（将其 ID 设为空）
  // 否则，就打开被点击的表格
  activeTableId.value = activeTableId.value === tableId ? '' : tableId;
};

</script>

<TwoSectionsLayout>
  <template #data-section>
    <!-- <div v-for="tableInfo in tables" :key="tableInfo.id"> -->
      <!-- <h3 :id="tableInfo.id">{{ tableInfo.title }}</h3> -->
      <!-- <DynamicTable :data="tableInfo.data">
        <template #notes>
        </template>
      </DynamicTable> -->
      <CollapsibleTable
      v-for="table in tables"
      :key="table.id"
      :id="table.id"
      :title="table.title"
      :data="table.data"
      :active-id="activeTableId"   
      @toggle="handleToggle"      <!-- 监听子组件的 toggle 事件 -->
    />
    <!-- </div> -->
  </template>

  <template #faq-section>
    <HordeFAQ />
  </template>

</TwoSectionsLayout>
